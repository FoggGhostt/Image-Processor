# Image Processor

**Image Processor** — консольный инструмент для работы с BMP-изображениями. Он позволяет быстро и удобно применять к картинкам разнообразные графические фильтры, аналогичные тем, что есть в популярных редакторах. Проект написан на C++ без сторонних зависимостей и легко собирается с помощью CMake.

---

## Возможности

- **Поддержка формата BMP**  
  – чистый 24-битный BMP (без сжатия и таблицы цветов, DIB-заголовок `BITMAPINFOHEADER`).  
- **Набор фильтров**  
  - Обрезка (Crop)  
  - Оттенки серого (Grayscale)  
  - Негатив (Negative)  
  - Повышение резкости (Sharpen)  
  - Выделение краёв (Edge Detection)   
- **Консольный интерфейс**  
  Гибкая система аргументов: вы можете применять сразу несколько фильтров в любом порядке.  

---

## Установка и сборка

1. Клонируйте репозиторий:  
   git clone https://github.com/FoggGhostt/Image-Processor.git  
   cd Image-Processor  
2. Создайте директорию для сборки и перейдите в неё:  
   mkdir build && cd build  
3. Запустите CMake и соберите проект:  
   cmake ..  
   make  
4. Готово! В результате появится исполняемый файл `image_processor`.

---

## Использование

./image_processor <input.bmp> <output.bmp> [фильтр1 [параметры]] [фильтр2 [параметры]] ...

- При запуске без аргументов выводится справка.
- Фильтры применяются в том порядке, в котором они перечислены.

### Пример

./image_processor input.bmp result.bmp -crop 800 600 -gs -blur 1.2

1. Загружает `input.bmp`  
2. Обрезает до 800×600 (верхний левый угол)  
3. Конвертирует в оттенки серого  
4. Применяет гауссово размытие с σ=1.2  
5. Сохраняет результат в `result.bmp`  

---

## Описание фильтров

- **Crop** (`-crop width height`)  
  Обрезает изображение до заданных размеров, начиная с верхнего левого угла.  
- **Grayscale** (`-gs`)  
  Переводит в оттенки серого по формуле  
  R'=G'=B'=0.299·R + 0.587·G + 0.114·B  
- **Negative** (`-neg`)  
  Инвертирует цвета:  
  R' = 1 − R, G' = 1 − G, B' = 1 − B  
- **Sharpen** (`-sharp`)  
  Усиливает контраст краёв, применяя свёртку матрицей  
  [  0  −1   0  
    −1   5  −1  
     0  −1   0 ]  
- **Edge Detection** (`-edge threshold`)  
  Сначала переводит в серый, затем выделяет границы матрицей  
  [ −1  −1  −1  
    −1   8  −1  
    −1  −1  −1 ]  
  Пиксели с яркостью > threshold становятся белыми, остальные — чёрными.  

---

## Разработка

Архитектура проекта:  
- **Image** — класс для хранения пиксельных данных и базовых операций.  
- **BMPReader/BMPWriter** — модули для чтения и записи BMP.  
- **Filter** — абстрактный базовый класс для всех фильтров.  
- **Concrete Filters** — конкретные реализации каждого фильтра.  
- **Controller** — парсит аргументы и последовательно применяет фильтры.

Все исключения обрабатываются и выводят понятные сообщения об ошибках (не падаем на некорректных файлах или параметрах).

---

## Планы на будущее

- Добавить поддержку других форматов (PNG, JPEG)  
- Реализовать многопоточную обработку для ускорения  
- Добавить графический интерфейс  
- Расширить набор творческих фильтров  

